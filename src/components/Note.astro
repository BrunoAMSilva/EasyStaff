---
import type { HTMLAttributes } from "astro/types";
import { getNoteColor } from "../utils/note-colors";
import { getNotePosition } from "../utils/note-position";

interface Props extends HTMLAttributes<"span"> {
    note: Extract<Token, { type: "note" }>;
    beat: number;
}
const { note, beat, class: className, ...rest } = Astro.props;

const color = getNoteColor(note.value);
const positionClass = getNotePosition(note.value);
---

<span
    class={`mx-2 py-2 px-4 rounded-lg text-white text-xl uppercase ${color} ${positionClass} ${className ? className : ""}`}
    style={`grid-column: ${beat} / span ${note.duration};`}
    {...rest}>{note.value}</span
>
